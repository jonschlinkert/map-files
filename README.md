# map-files [![NPM version](https://badge.fury.io/js/map-files.svg)](http://badge.fury.io/js/map-files)


> Return an object for a glob of files. Pass a `rename` function for the keys, or a `parse` function for the content, allowing it to be used for readable or require-able files.

## Install
#### Install with [npm](npmjs.org):

```bash
npm i map-files --save-dev
```

## Run tests

```bash
npm test
```

## Usage

```js
var mapFiles = require('map-files');
console.log(mapFiles('lib/*.txt'));
```
Returns an object that looks something like:

```js
{ 'fixtures/a.txt': { name: 'a.txt' , contents: 'This is file a.txt.' },
  'fixtures/b.txt': { name: 'b.txt' , contents: 'This is file b.txt.' },
  'fixtures/c.txt': { name: 'c.txt' , contents: 'This is file c.txt.' } }
```

## API
### [mapFiles](index.js#L73)

* `patterns` **{String}**: Glob patterns to pass to [globby]    
* `opts` **{Object}**: Options for globby, or pass a custom `parse` or `rename`.    
* `returns`: {Object}  

Return an object for all files matching the given `patterns`
and `options`. The full filepath of the file is used as the key.

## Examples

### options.rename

Pass a rename function to be used as the key of each file object:

```js
var files = mapFiles('lib/*.txt', {
  rename: function (filepath) {
    return path.basename(filepath);
  }
});
console.log(files);
```
Returns something like:

```js
{ 'fixtures/a.txt': { name: 'a' , contents: 'This is file a.txt.' },
  'fixtures/b.txt': { name: 'b' , contents: 'This is file b.txt.' },
  'fixtures/c.txt': { name: 'c' , contents: 'This is file c.txt.' } }
```


### options.parse

Pass a parsing function to change the object returned for each file. The
default function reads files and returns a string. This example shows how
you might instead `require` each file.

```js
var files = mapFiles('lib/*.txt', {
  parse: function (filepath) {
    return {
      path: filepath,
      fn: require(path.resolve(filepath))
    }
  }
});
console.log(files);
```
Returns something like:

```js
{ 'fixtures/a.js': { path: 'fixtures/a.js' , fn: { foo: [Function: foo] } },
  'fixtures/b.js': { path: 'fixtures/b.js' , fn: { bar: [Function: bar] } },
  'fixtures/c.js': { path: 'fixtures/c.js' , fn: { baz: [Function: baz] } } }
```


## Author

**Jon Schlinkert**
 
+ [github/jonschlinkert](https://github.com/jonschlinkert)
+ [twitter/jonschlinkert](http://twitter.com/jonschlinkert) 

## License
Copyright (c) 2014 Jon Schlinkert, contributors.  
Released under the MIT license

***

_This file was generated by [verb-cli](https://github.com/assemble/verb-cli) on September 20, 2014._

[globby]: https://github.com/sindresorhus/globby