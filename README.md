# map-files [![NPM version](https://badge.fury.io/js/map-files.svg)](http://badge.fury.io/js/map-files)  [![Build Status](https://travis-ci.org/jonschlinkert/map-files.svg)](https://travis-ci.org/jonschlinkert/map-files) 

> Return an object for a glob of files. Pass a `rename` function for the keys, or a `parse` function for the content, allowing it to be used for readable or require-able files.

As of v0.5.0, map-files returns absolute file paths by default. You can achieve the same results by using a custom `name` function as in the [examples](#options-name).

## Install with [npm](npmjs.org)

```bash
npm i map-files --save
```

## Usage

```js
var files = require('map-files');
console.log(files('templates/*.txt'));
```
Returns an object that looks something like:

```js
{ a: { content: 'AAA', path: 'templates/a.txt' },
  b: { content: 'BBB', path: 'templates/b.txt' },
  c: { content: 'CCC', path: 'templates/c.txt' }}
```

### options.cache

Type: `Boolean`

Default: `false`

If `true`, results will be cached in memory so that subsequent lookups for the same cwd and patterns don't repeatedly hit the file system.


### options.cwd

Type: `String`

Default: `process.cwd()`


Specify the current working directory

```js
files('*.txt', {cwd: 'templates'});
```

### options.name

Type: `Function`

Default: `path.basename(fp, path.extname(fp))`

Rename the key of each file object:

```js
var templates = files('templates/*.txt', {
  name: function (filepath) {
    return path.basename(filepath);
  }
});
```
Returns something like:

```js
{ 'a.txt': { content: 'AAA', path: 'templates/a.txt' },
  'b.txt': { content: 'BBB', path: 'templates/b.txt' },
  'c.txt': { content: 'CCC', path: 'templates/c.txt' }}
```


### options.read

> Pass a custom `read` function to change the object returned for each file.

Type: `Function`

Default: `fs.readFileSync()`

The default function reads files and returns a string, but you can do anything
you want with the function, like `require` files:

```js
var helpers = files('helpers/*.js', {
  read: function (fp) {
    return require(path.resolve(fp));
  }
});
//=> { a: [Function: foo], b: [Function: bar], c: [Function: baz] }
```

## Other files libs
* [file-reader](https://github.com/jonschlinkert/file-reader): Read a glob of files, dynamically choosing the reader or requiring the files based on the file extension.
* [filter-files](https://github.com/jonschlinkert/filter-files): Recursively read directories and return a list of files, filtered to have only the files for which the (optional) filter function returns `true`. Sync and async.
* [micromatch](https://github.com/jonschlinkert/micromatch): Glob matching for javascript/node.js. A drop-in replacement and faster alternative to minimatch and multimatch (10-45x faster on avg). Just use `minimatch.isMatch()` instead of `multimatch()` or `minimatch()`.
* [export-files](https://github.com/jonschlinkert/export-files): node.js utility for exporting a directory of files as modules.

## Running tests
Install dev dependencies.

```bash
npm i -d && npm test
```

## Contributing
Pull requests and stars are always welcome. For bugs and feature requests, [please create an issue](https://github.com/jonschlinkert/map-files/issues)

## Author

**Jon Schlinkert**
 
+ [github/jonschlinkert](https://github.com/jonschlinkert)
+ [twitter/jonschlinkert](http://twitter.com/jonschlinkert) 

## License
Copyright (c) 2014-2015 Jon Schlinkert  
Released under the MIT license

***

_This file was generated by [verb-cli](https://github.com/assemble/verb-cli) on March 22, 2015._

[globby]: https://github.com/sindresorhus/globby